{"version":3,"sources":["../../../src/tools/config/errors.ts"],"names":["JoiError","CLIError","constructor","joiError","details","map","error","name","path","join","type","value","JSON","stringify","context","expectedType","replace","actualType","message"],"mappings":";;;;;;;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AAGO,MAAMA,QAAN,SAAuBC,oBAAvB,CAAgC;AACrCC,EAAAA,WAAW,CAACC,QAAD,EAA4B;AACrC,UACEA,QAAQ,CAACC,OAAT,CACGC,GADH,CACOC,KAAK,IAAI;AACZ,YAAMC,IAAI,GAAGD,KAAK,CAACE,IAAN,CAAWC,IAAX,CAAgB,GAAhB,CAAb;;AACA,cAAQH,KAAK,CAACI,IAAd;AACE,aAAK,qBAAL;AAA4B;AAC1B,kBAAMC,KAAK,GAAGC,IAAI,CAACC,SAAL,CACZP,KAAK,CAACQ,OAAN,IAAiBR,KAAK,CAACQ,OAAN,CAAcH,KADnB,CAAd;AAGA,mBAAQ;iCACWJ,IAAK,gBAAeI,KAAM;;eAD7C;AAID;;AACD,aAAK,aAAL;AACA,aAAK,aAAL;AAAoB;AAClB,kBAAMI,YAAY,GAAGT,KAAK,CAACI,IAAN,CAAWM,OAAX,CAAmB,OAAnB,EAA4B,EAA5B,CAArB;AACA,kBAAMC,UAAU,GAAG,QAAQX,KAAK,CAACQ,OAAN,IAAiBR,KAAK,CAACQ,OAAN,CAAcH,KAAvC,CAAnB;AACA,mBAAQ;yBACGJ,IAAK,cAAaQ,YAAa,iBAAgBE,UAAW;eADrE;AAGD;;AACD;AACE,iBAAOX,KAAK,CAACY,OAAb;AAnBJ;AAqBD,KAxBH,EAyBGT,IAzBH,EADF;AA4BD;;AA9BoC","sourcesContent":["import {CLIError} from '@react-native-community/cli-tools';\nimport {ValidationError} from '@hapi/joi';\n\nexport class JoiError extends CLIError {\n  constructor(joiError: ValidationError) {\n    super(\n      joiError.details\n        .map(error => {\n          const name = error.path.join('.');\n          switch (error.type) {\n            case 'object.allowUnknown': {\n              const value = JSON.stringify(\n                error.context && error.context.value,\n              );\n              return `\n                Unknown option ${name} with value \"${value}\" was found.\n                This is either a typing error or a user mistake. Fixing it will remove this message.\n              `;\n            }\n            case 'object.base':\n            case 'string.base': {\n              const expectedType = error.type.replace('.base', '');\n              const actualType = typeof (error.context && error.context.value);\n              return `\n                Option ${name} must be a ${expectedType}, instead got ${actualType}\n              `;\n            }\n            default:\n              return error.message;\n          }\n        })\n        .join(),\n    );\n  }\n}\n"]}