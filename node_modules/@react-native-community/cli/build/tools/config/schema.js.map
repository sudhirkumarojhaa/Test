{"version":3,"sources":["../../../src/tools/config/schema.ts"],"names":["map","key","value","t","object","unknown","pattern","command","name","string","required","description","usage","func","options","array","items","parse","default","alternatives","try","bool","number","allow","rename","ignoreUndefined","examples","desc","cmd","dependencyConfig","dependency","platforms","any","keys","ios","project","podspecPath","sharedLibraries","libraryFolder","scriptPhases","android","sourceDir","manifestPath","packageImportPath","packageInstance","assets","hooks","params","type","message","projectConfig","linkConfig","commands","dependencies","root","folder","pbxprojPath","podfile","projectPath","projectName","reactNativePath","packageName","packageFolder","mainFilePath","stringsPath","settingsGradlePath","assetsPath","buildGradlePath","appName"],"mappings":"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","sourcesContent":["import * as t from '@hapi/joi';\nimport {SchemaLike} from '@hapi/joi';\n\nconst map = (key: RegExp | SchemaLike, value: SchemaLike) =>\n  t\n    .object()\n    .unknown(true)\n    .pattern(key, value);\n\n/**\n * Schema for CommandT\n */\nconst command = t.object({\n  name: t.string().required(),\n  description: t.string(),\n  usage: t.string(),\n  func: t.func().required(),\n  options: t.array().items(\n    t\n      .object({\n        name: t.string().required(),\n        description: t.string(),\n        parse: t.func(),\n        default: t\n          .alternatives()\n          .try([t.bool(), t.number(), t.string().allow(''), t.func()]),\n      })\n      .rename('command', 'name', {ignoreUndefined: true}),\n  ),\n  examples: t.array().items(\n    t.object({\n      desc: t.string().required(),\n      cmd: t.string().required(),\n    }),\n  ),\n});\n\n/**\n * Schema for UserDependencyConfigT\n */\nexport const dependencyConfig = t\n  .object({\n    dependency: t\n      .object({\n        platforms: map(t.string(), t.any())\n          .keys({\n            ios: t\n              .object({\n                project: t.string(),\n                podspecPath: t.string(),\n                sharedLibraries: t.array().items(t.string()),\n                libraryFolder: t.string(),\n                scriptPhases: t.array().items(t.object()),\n              })\n              .default({}),\n            android: t\n              .object({\n                sourceDir: t.string(),\n                manifestPath: t.string(),\n                packageImportPath: t.string(),\n                packageInstance: t.string(),\n              })\n              .default({}),\n          })\n          .default(),\n        assets: t\n          .array()\n          .items(t.string())\n          .default([]),\n        hooks: map(t.string(), t.string()).default({}),\n        params: t\n          .array()\n          .items(\n            t.object({\n              name: t.string(),\n              type: t.string(),\n              message: t.string(),\n            }),\n          )\n          .default([]),\n      })\n      .default(),\n    platforms: map(\n      t.string(),\n      t.object({\n        dependencyConfig: t.func(),\n        projectConfig: t.func(),\n        linkConfig: t.func(),\n      }),\n    ).default({}),\n    commands: t\n      .array()\n      .items(command)\n      .default([]),\n  })\n  .unknown(true)\n  .default();\n\n/**\n * Schema for ProjectConfigT\n */\nexport const projectConfig = t\n  .object({\n    dependencies: map(\n      t.string(),\n      t\n        .object({\n          root: t.string(),\n          platforms: map(t.string(), t.any()).keys({\n            ios: t\n              .object({\n                sourceDir: t.string(),\n                folder: t.string(),\n                pbxprojPath: t.string(),\n                podfile: t.string(),\n                podspecPath: t.string(),\n                projectPath: t.string(),\n                projectName: t.string(),\n                libraryFolder: t.string(),\n                sharedLibraries: t.array().items(t.string()),\n              })\n              .allow(null),\n            android: t\n              .object({\n                sourceDir: t.string(),\n                folder: t.string(),\n                packageImportPath: t.string(),\n                packageInstance: t.string(),\n              })\n              .allow(null),\n          }),\n          assets: t.array().items(t.string()),\n          hooks: map(t.string(), t.string()),\n          params: t.array().items(\n            t.object({\n              name: t.string(),\n              type: t.string(),\n              message: t.string(),\n            }),\n          ),\n        })\n        .allow(null),\n    ).default({}),\n    reactNativePath: t.string(),\n    project: map(t.string(), t.any())\n      .keys({\n        ios: t\n          .object({\n            project: t.string(),\n            sharedLibraries: t.array().items(t.string()),\n            libraryFolder: t.string(),\n          })\n          .default({}),\n        android: t\n          .object({\n            sourceDir: t.string(),\n            manifestPath: t.string(),\n            packageName: t.string(),\n            packageFolder: t.string(),\n            mainFilePath: t.string(),\n            stringsPath: t.string(),\n            settingsGradlePath: t.string(),\n            assetsPath: t.string(),\n            buildGradlePath: t.string(),\n            appName: t.string(),\n          })\n          .default({}),\n      })\n      .default(),\n    assets: t\n      .array()\n      .items(t.string())\n      .default([]),\n    commands: t\n      .array()\n      .items(command)\n      .default([]),\n    platforms: map(\n      t.string(),\n      t.object({\n        dependencyConfig: t.func(),\n        projectConfig: t.func(),\n        linkConfig: t.func(),\n      }),\n    ).default({}),\n  })\n  .unknown(true)\n  .default();\n"]}