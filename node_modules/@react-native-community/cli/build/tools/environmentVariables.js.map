{"version":3,"sources":["../../src/tools/environmentVariables.ts"],"names":["setEnvironment","variable","value","command","updateEnvironment"],"mappings":";;;;;;;AAAA;;AAEA;;;AAGA,MAAMA,cAAc,GAAG,OAAOC,QAAP,EAAyBC,KAAzB,KAA2C;AAChE;AACA,QAAMC,OAAO,GAAI,QAAOF,QAAS,KAAIC,KAAM,GAA3C;AACA,SAAO,uCAAeC,OAAf,CAAP;AACD,CAJD;AAMA;;;;;;;;;;AAMA,MAAMC,iBAAiB,GAAG,CAACH,QAAD,EAAmBC,KAAnB,KAAqC;AAC7D;AACA,QAAMC,OAAO,GAAI,oEAAmEF,QAAS,8BAA6BA,QAAS,KAAIC,KAAM,wBAAuBD,QAAS,KAAIC,KAAM;GAAvL;AAGA,SAAO,uCAAeC,OAAf,CAAP;AACD,CAND","sourcesContent":["import {executeCommand} from './executeWinCommand';\n\n/**\n * Creates a new variable in the user's environment\n */\nconst setEnvironment = async (variable: string, value: string) => {\n  // https://superuser.com/a/601034\n  const command = `setx ${variable} \"${value}\"`;\n  return executeCommand(command);\n};\n\n/**\n * Prepends the given `value` to the user's environment `variable`.\n * @param {string} variable The environment variable to modify\n * @param {string} value The value to add to the variable\n * @returns {Promise<void>}\n */\nconst updateEnvironment = (variable: string, value: string) => {\n  // https://superuser.com/a/601034\n  const command = `for /f \"skip=2 tokens=3*\" %a in ('reg query HKCU\\\\Environment /v ${variable}') do @if [%b]==[] ( @setx ${variable} \"${value};%~a\" ) else ( @setx ${variable} \"${value};%~a %~b\" )\n  `;\n\n  return executeCommand(command);\n};\n\nexport {setEnvironment, updateEnvironment};\n"]}