{"version":3,"sources":["../../../src/commands/config/config.ts"],"names":["isValidRNDependency","config","Object","keys","platforms","filter","key","Boolean","length","hooks","assets","params","filterConfig","filtered","dependencies","forEach","item","name","description","func","_argv","ctx","console","log","JSON","stringify"],"mappings":";;;;;;;;;;;;;AAEA,SAASA,mBAAT,CAA6BC,MAA7B,EAAiD;AAC/C,SACEC,MAAM,CAACC,IAAP,CAAYF,MAAM,CAACG,SAAnB,EAA8BC,MAA9B,CAAqCC,GAAG,IAAIC,OAAO,CAACN,MAAM,CAACG,SAAP,CAAiBE,GAAjB,CAAD,CAAnD,EACGE,MADH,KACc,CADd,IAECP,MAAM,CAACQ,KAAP,IAAgBP,MAAM,CAACC,IAAP,CAAYF,MAAM,CAACQ,KAAnB,EAA0BD,MAA1B,KAAqC,CAFtD,IAGCP,MAAM,CAACS,MAAP,IAAiBT,MAAM,CAACS,MAAP,CAAcF,MAAd,KAAyB,CAH3C,IAICP,MAAM,CAACU,MAAP,IAAiBV,MAAM,CAACU,MAAP,CAAcH,MAAd,KAAyB,CAL7C;AAOD;;AAED,SAASI,YAAT,CAAsBX,MAAtB,EAAsC;AACpC,QAAMY,QAAQ,qBAAOZ,MAAP,CAAd;;AACAC,EAAAA,MAAM,CAACC,IAAP,CAAYU,QAAQ,CAACC,YAArB,EAAmCC,OAAnC,CAA2CC,IAAI,IAAI;AACjD,QAAI,CAAChB,mBAAmB,CAACa,QAAQ,CAACC,YAAT,CAAsBE,IAAtB,CAAD,CAAxB,EAAuD;AACrD,aAAOH,QAAQ,CAACC,YAAT,CAAsBE,IAAtB,CAAP;AACD;AACF,GAJD;AAKA,SAAOH,QAAP;AACD;;eAEc;AACbI,EAAAA,IAAI,EAAE,QADO;AAEbC,EAAAA,WAAW,EAAE,yBAFA;AAGbC,EAAAA,IAAI,EAAE,OAAOC,KAAP,EAAwBC,GAAxB,KAAwC;AAC5CC,IAAAA,OAAO,CAACC,GAAR,CAAYC,IAAI,CAACC,SAAL,CAAeb,YAAY,CAACS,GAAD,CAA3B,EAAkC,IAAlC,EAAwC,CAAxC,CAAZ;AACD;AALY,C","sourcesContent":["import {Config, Dependency} from '@react-native-community/cli-types';\n\nfunction isValidRNDependency(config: Dependency) {\n  return (\n    Object.keys(config.platforms).filter(key => Boolean(config.platforms[key]))\n      .length !== 0 ||\n    (config.hooks && Object.keys(config.hooks).length !== 0) ||\n    (config.assets && config.assets.length !== 0) ||\n    (config.params && config.params.length !== 0)\n  );\n}\n\nfunction filterConfig(config: Config) {\n  const filtered = {...config};\n  Object.keys(filtered.dependencies).forEach(item => {\n    if (!isValidRNDependency(filtered.dependencies[item])) {\n      delete filtered.dependencies[item];\n    }\n  });\n  return filtered;\n}\n\nexport default {\n  name: 'config',\n  description: 'Print CLI configuration',\n  func: async (_argv: string[], ctx: Config) => {\n    console.log(JSON.stringify(filterConfig(ctx), null, 2));\n  },\n};\n"]}